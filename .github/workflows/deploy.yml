name: Deploy
on:
  push:
    branches: [main]
  
jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Deploy to server
        run: |
          ssh ${{ secrets.SSH_USER }}
          @${{ secrets.SSH_HOST }} "
          cd /path/to/app &&
          git pull origin main &&
          source venv/bin/activate &&
          
          
          systemctl restart fastapi-app
          "
